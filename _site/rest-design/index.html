<!DOCTYPE html>

<html lang="en-us">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  

  <title>Rest Design - API Review</title>
  <link rel="stylesheet" href="http://0.0.0.0:4000/assets/css/just-the-docs.css">

  

  
    <script type="text/javascript" src="http://0.0.0.0:4000/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="http://0.0.0.0:4000/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>

  <div class="page-wrap">
    <div class="side-bar">
      <a href="http://0.0.0.0:4000" class="site-title fs-6 lh-tight">API Review</a>
      <span class="fs-3"><button class="js-main-nav-trigger navigation-list-toggle btn btn-outline" type="button" data-text-toggle="Hide">Menu</button></span>
      <div class="navigation main-nav js-main-nav">
        <nav role="navigation" aria-label="Main navigation">
  <ul class="navigation-list">
    
    
      
        
          <li class="navigation-list-item active">
            
            <a href="http://0.0.0.0:4000/404.html" class="navigation-list-link"></a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item active">
            
            <a href="http://0.0.0.0:4000/" class="navigation-list-link"></a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item active">
            
            <a href="http://0.0.0.0:4000/rest-design/" class="navigation-list-link active">Rest Design</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://0.0.0.0:4000/developer-experience/" class="navigation-list-link">Developer Experience</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://0.0.0.0:4000/next-steps/" class="navigation-list-link">Next Steps</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://0.0.0.0:4000/vandalay-api/" class="navigation-list-link">Vandalay API</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://0.0.0.0:4000/vandalay-api-updated/" class="navigation-list-link">Updated Vandalay API</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://0.0.0.0:4000/resources/" class="navigation-list-link">Resources</a>
            
          </li>
        
      
    
  </ul>
</nav>

      </div>
      <footer role="contentinfo" class="site-footer">
        <p class="text-small text-grey-dk-000 mb-0">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p>
      </footer>
    </div>
    <div class="main-content-wrap js-main-content" tabindex="0">
      <div class="page-header">
        <div class="main-content">
          
          <div class="search js-search">
            <div class="search-input-wrap">
              <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search API Review" aria-label="Search API Review" autocomplete="off">
              <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg>
            </div>
            <div class="js-search-results search-results-wrap"></div>
          </div>
          
          
        </div>
      </div>
      <div class="main-content">
        
          
        
        <div id="main-content" class="page-content" role="main">
          <h1 class="no_toc" id="rest-design">Rest Design</h1>

<h2 class="no_toc text-delta" id="table-of-contents">Table of contents</h2>

<ol id="markdown-toc">
  <li><a href="#swagger-yaml-fixes" id="markdown-toc-swagger-yaml-fixes">Swagger Yaml Fixes</a></li>
  <li><a href="#top-level-entities" id="markdown-toc-top-level-entities">Top Level Entities</a></li>
  <li><a href="#inventory-patch-and-deletes" id="markdown-toc-inventory-patch-and-deletes">Inventory Patch and Deletes</a></li>
  <li><a href="#status-codes" id="markdown-toc-status-codes">Status Codes</a></li>
</ol>

<hr />

<h2 id="swagger-yaml-fixes">Swagger Yaml Fixes</h2>
<p>The original swagger definition file had a few typos that were corrected to bring it back to conforming to proper swagger.  Recommend using the <a href="https://swagger.io/tools/swagger-editor/">swagger editor</a> and <a href="https://swagger.io/tools/swagger-editor/">swagger ui</a> tools to validate that the swagger is proper.</p>

<h2 id="top-level-entities">Top Level Entities</h2>
<p>The factory and warehouse entities are described as “top level”, so those were moved two top level entities instead of the original groupings which had them spread througout several top level entity definitions.</p>

<h2 id="inventory-patch-and-deletes">Inventory Patch and Deletes</h2>
<p>The inventory PATCH verb uses a <code class="highlighter-rouge">itemDelete</code> boolean to delete inventory items.  The DELETE verb should be used instead.  When implementing, consider whether it is more suitable to express the endpoint as one or both of <code class="highlighter-rouge">/inventory/{id}</code> or <code class="highlighter-rouge">/warehouse/warehouseId/inventory/inventoryId</code>.  The first should run delete an inventory item with <code class="highlighter-rouge">id</code>.  The second, will remove an inventory item with <code class="highlighter-rouge">inventoryId</code> that is in the warehouse with id of <code class="highlighter-rouge">warehouseId</code>.  If the concept of inventory is usually thought of with a warehouse, then it might be more suitable to use the second option since there is relationship enforcement of the inventory with the specific warehouse.</p>

<p>The inventory PATCH should include the inventoryId of the inventory item that is being patched.  Also, instead of the response for the patched resource returning an array, it should return the inventory item that was updated (same observation for the POST).  Finally, there should be clarity added to exactly what is being deleted by the inventory DELETE.  Is it the entire inventory for that item or is it just some quantity since there is a quantity property on the original item.</p>

<h2 id="status-codes">Status Codes</h2>
<p>Proper usage of status codes adheres to rest conventions just as the appropriate usage of HTTP verbs like DELETE.  Here are some of the status codes that were not aligned with rest conventions:</p>

<h3 class="no_toc" id="204-for-delete-inventory">204 for Delete inventory</h3>
<p>In the original swagger definition, deletes were part of the patch and returned a 201.  The 201 status code is for creates.  Use a 204 status code to indicate successful completion of the request with no body to return.</p>

<h3 class="no_toc" id="200-for-patch-inventory">200 for Patch inventory</h3>
<p>The PATCH method returns a 201 which should be used when a new resource is created.  A PATCH should return status code 200.</p>



          
        </div>
      </div>
    </div>
  </div>

</body>
</html>
